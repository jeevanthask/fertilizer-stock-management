<div class="container p-5">
  <form [formGroup]="createForm" class="create-form">
    <div class="mb-3">
      <label class="form-label">Product Name</label><br />
      <input type="text" pInputText required #pname />
    </div>
    <div class="mb-3">
      <p-dropdown
        [options]="groupedCompanies"
        [style]="{ width: '20rem' }"
        placeholder="Select a Company"
        [group]="true"
        #comname
      >
        <ng-template let-group pTemplate="group">
          <div class="p-d-flex p-ai-center">
            <span>{{ group.label }}</span>
          </div>
        </ng-template>
      </p-dropdown>
    </div>
    <div class="mb-3">
      <p-dropdown
        [options]="fertilizerTypes"
        [style]="{ width: '20rem' }"
        placeholder="Select the Type"
        optionLabel="name"
        [showClear]="true"
        #protype
      ></p-dropdown>
    </div>

    <button
      pButton
      type="submit"
      label="Submit"
      class="p-button-primary"
      (click)="addFertilizer(pname.value, comname.value, protype.value)"
    ></button>
  </form>
</div>

<p-dialog
  header="Confirmation"
  [(visible)]="displayModal"
  [modal]="true"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
>
  <h6>The Fertilizer Has Been Added Successfully!</h6>
  <ng-template pTemplate="footer">
    <p-button
      icon="pi pi-check"
      (click)="displayModal = false"
      label="Ok"
      styleClass="p-button-text"
    ></p-button>
  </ng-template>
</p-dialog>
