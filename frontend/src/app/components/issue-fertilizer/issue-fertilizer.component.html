<div>
  <div class="row" style="margin-top: 2rem">
    <div class="col-md-12">
      <span class="p-float-label">
        <input id="float-input" type="text" pInputText #inputnic />
        <label for="float-input">Search by NIC</label>
      </span>
    </div>
  </div>
  <div class="row" style="margin-top: 0.5rem">
    <div class="col-md-12">
      <button
        pButton
        type="submit"
        label="Search"
        class="p-button-success"
        (click)="searchFarmer(inputnic.value)"
      ></button>
    </div>
  </div>
  <div *ngIf="showResults; then defaultDisplayBlock"></div>
  <ng-template #defaultDisplayBlock>
    <div style="margin-top: 0.5rem">
      <div class="mb-3">
        <label class="form-label">First Name</label><br />
        <input type="text" placeholder="{{ firstname }}" pInputText required />
      </div>

      <div class="mb-3">
        <label class="form-label">Second Name</label><br />
        <input type="text" placeholder="{{ secondname }}" pInputText required />
      </div>

      <div class="mb-3">
        <label class="form-label">Address</label><br />
        <input type="text" placeholder="{{ address }}" pInputText required />
      </div>
    </div>
  </ng-template>

  <div class="row" style="margin-top: 1rem">
    <div class="col-md-12">
      <p-multiSelect
        [options]="fertilizerProductNames"
        [style]="{ width: '20rem' }"
        placeholder="Select the Fertilizer Type"
        optionLabel="name"
        #selectedItems
      ></p-multiSelect>

      <div class="col-md-12" style="margin-top: 1rem">
        <div class="mb-3">
          <button
            pButton
            type="submit"
            label="Next"
            class="p-button-success"
            (click)="handleNext(selectedItems.value)"
          ></button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isNextBtnClicked; then nextNgTemplate"></div>
  <ng-template #nextNgTemplate>
    <div style="margin-top: 0.5rem">
      <div class="row">
        <div class="col-md-12">
          <div *ngFor="let item of generateQuantityNames">
            <br />
            <label class="form-label">{{ item.name }}</label
            ><br />
            <input type="text" placeholder="Quantity" pInputText required />
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="margin-top: 1rem">
      <div class="col-md-12">
        <p-card>
          <div class="mb-0">
            <label class="form-label"
              ><strong><h4>Bill Preview</h4></strong></label
            >
          </div>
          <div class="mb-1">
            <label class="form-label"><strong>Farmer Name -</strong></label>
            &nbsp;
            <label class="form-label"
              ><strong>{{ firstname }} &nbsp;{{ secondname }}</strong></label
            >
          </div>
          <div class="mb-1">
            <label class="form-label"><strong>Address - </strong></label>
            &nbsp;
            <label class="form-label"
              ><strong>{{ address }}</strong></label
            >
          </div>
          <div class="mb-1">
            <label class="form-label"><strong>Items Bought - </strong></label>
            &nbsp;
            <label class="form-label"><strong>items goes here</strong></label>
          </div>
        </p-card>

        <div class="mb-3" style="margin-top: 1rem">
          <button
            pButton
            type="submit"
            label="Generate Bill"
            class="p-button-danger"
            (click)="handleGenerateBill()"
          ></button>
        </div>
      </div>
    </div>
  </ng-template>
</div>
